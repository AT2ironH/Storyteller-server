{"version":3,"sources":["components/Map.js","config.js","components/CreateStory.js","components/Homepage.js","components/Login.js","components/SignUp.js","components/NavTop.js","components/AllStories.js","components/button_components/LikeButton.js","components/Map2.js","components/UserProfile.js","components/NavBottom.js","components/SingleStory.js","components/EditUser.js","components/NotFound.js","App.js","index.js"],"names":["MyComponent","props","useMap","setView","center","zoom","Map","state","position","this","lat","setState","lon","myIcon","L","Icon","iconUrl","iconSize","console","log","id","MapContainer","style","width","height","scrollWheelZoom","TileLayer","attribution","url","Marker","icon","Popup","Component","process","CreateStory","story","inputLocation","handleChange","event","target","value","axios","get","config","then","response","data","aresponse","latitude","longitude","catch","err","stories","user","className","onSubmit","onAdd","onChange","name","type","placeholder","class","for","rows","data-type","to","Homepage","Login","sectionStyle","backgroundImage","backgroundPosition","backgroundSize","backgroundRepeat","SignUp","NavTop","AllStories","map","_id","src","image","alt","title","description","creator","email","Map2","location","UserProfile","NavBottom","onClick","handleLogout","SingleStory","storyId","match","params","withCredentials","error","isOwner","handleDelete","EditUser","handleNameChange","text","cloneUser","JSON","parse","stringify","handleEmailChange","onEdit","NotFound","App","fetching","handleSignup","preventDefault","password","post","history","push","handleLogin","handleSubmit","files","uploadForm","FormData","append","completed","handleEdit","patch","res","getAllStories","delete","review","exact","path","render","userProps","routeProps","component","withRouter","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.77655244.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport {\r\n  MapContainer,\r\n  MapConsumer,\r\n  TileLayer,\r\n  Marker,\r\n  Popup,\r\n  useMap,\r\n} from \"react-leaflet\";\r\nimport L from \"leaflet\"\r\nimport \"leaflet/dist/leaflet.css\";\r\n\r\n\r\n\r\nfunction MyComponent(props) {\r\n  const map = useMap();\r\n  map.setView(props.center, props.zoom);\r\n  return null;\r\n}\r\n\r\nclass Map extends Component {\r\n  state = {\r\n    position: [11.267489, -74.191023],\r\n  };\r\n\r\n  componentDidUpdate() {\r\n    if (this.props.lat && this.props.lat !== this.state.position[0]) {\r\n      this.setState({\r\n        position: [this.props.lat, this.props.lon],\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    \r\n    let myIcon = new L.Icon({\r\n      iconUrl: \"mapPin.png\",\r\n      iconSize: [33, 43],\r\n    });\r\n    const { position } = this.state;\r\n    // props has lat & log\r\n\r\n    // update position = [lat, lng]\r\n    console.log(this.state.position);\r\n    return (\r\n      <div id={\"asd\" + position[0]}>\r\n        <MapContainer \r\n          style={{ width: \"340px\", height: \"250px\" }}\r\n          center={position}\r\n          zoom={13}\r\n          scrollWheelZoom={false}\r\n        >\r\n          <MyComponent center={position} zoom={13} />\r\n          <TileLayer\r\n            attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n            url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n          />\r\n\r\n          <Marker icon={myIcon} position={position}>\r\n            <Popup>\r\n              this is a cool popup <br /> Easily customizable. //we can put a name of the user who made this popup and the location of the popup\r\n            </Popup>\r\n          </Marker>\r\n        </MapContainer>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Map;\r\n","export default {\r\n  API_URL: process.env.REACT_APP_SERVER_URL,\r\n  GEO_URL:\r\n    \"http://api.positionstack.com/v1/forward?access_key=dd44dfea77b439fad7a76f83765bc8d5&query=\", //if we go over 25.000 req make another acc and paste key here\r\n};\r\n","import React, { Component } from 'react';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n// import Snuggle from 'react-snuggle';\r\nimport Map from './Map';\r\nimport axios from 'axios';\r\nimport config from '../config';\r\nimport { Link, Redirect } from \"react-router-dom\";\r\n\r\n\r\n\r\n class CreateStory extends Component {\r\n   state = {\r\n     story: {},\r\n     inputLocation: \"Taganga\",\r\n     lat: 11.267489,\r\n     lon: -74.191023,\r\n    //  public & private ===================\r\n    //  visibility: true  \r\n   };\r\n\r\n    // public & private =================\r\n  //  handlePrivacy = (event) => {\r\n  //    this.setState({\r\n  //     visibility: event.target.value,\r\n  //    });\r\n\r\n\r\n  //     .then((res) => {\r\n  //       if()\r\n        \r\n\r\n  //     })\r\n\r\n  //     .catch((err) => {\r\n\r\n  //     })\r\n  //  }\r\n\r\n   handleChange = (event) => {\r\n       this.setState({\r\n         inputLocation: event.target.value,\r\n       });\r\n     // make the api call here\r\n     axios.get(`${config.GEO_URL}${event.target.value}`)\r\n     .then((response) => {\r\n        console.log(response.data.data[0])\r\n        let aresponse = response.data.data[0];\r\n        this.setState({\r\n          lat: aresponse.latitude,\r\n          lon: aresponse.longitude,\r\n        });\r\n     })\r\n     .catch((err)=> {\r\n        console.log(\"sth went wrong\")\r\n     })\r\n     \r\n     \r\n   };\r\n\r\n   render() {\r\n     const { stories, user } = this.props;\r\n        if (!user) {\r\n          return <Redirect to={\"/login\"} />;}\r\n     return (\r\n       // <Snuggle>\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                <div className=\"col-sm-3\">\r\n\r\n        \r\n                    <Map lon={this.state.lon} lat={this.state.lat} inputLocation={this.state.inputLocation} /><br/>\r\n                  \r\n                    <form onSubmit={ (event) => {this.props.onAdd(event, this.state.lon , this.state.lat)} }>\r\n                  \r\n\r\n                        <div className=\"form-group\">\r\n                          <input className=\"form-control line\" onChange={this.handleChange} name=\"location\" value={this.state.inputLocation} type=\"text\" placeholder=\"Tell where it is..\" /> \r\n                        </div>\r\n\r\n                        <div class=\"custom-file\">\r\n                          <input name=\"image\" type=\"file\" className=\"custom-file-input\" />\r\n                          <label class=\"custom-file-label\" for=\"customFile\">choose image</label>\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                          <input className=\"form-control\" name=\"title\" type=\"text\" placeholder=\"Tell the title of your story..\" />\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                          <textarea className=\"form-control\" id=\"tellStory\" name=\"description\" rows=\"6\" placeholder=\"Tell your story....\" ></textarea>\r\n                        </div>\r\n\r\n                        {/*  public & private  */}\r\n                        {/* <div className=\"form-group\">\r\n                          <input name=\"btn-public\" type=\"checkbox\" className=\"btn-hide-show\" onChange={this.handlePrivacy} value={this.state.visibility} data-type=\"simple-switch\" />\r\n                          <label className=\"hide-show-label\">private</label>\r\n                        </div> */}\r\n\r\n                        <div className=\"form-group\">\r\n                          <input name=\"btn-public\" type=\"checkbox\" className=\"btn-hide-show\" data-type=\"simple-switch\" />\r\n                          <label className=\"hide-show-label\">private</label>\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                          <button name=\"btn-submit\" type=\"submit\" className=\"btn btn-outline-dark\">pin</button>\r\n                        </div>\r\n              \r\n              </form>\r\n              </div>\r\n              </div>\r\n            </div>\r\n\r\n       //  </Snuggle>\r\n\r\n     );\r\n   }\r\n }\r\n\r\nexport default CreateStory;\r\n\r\n ","import React, { Component } from 'react'\r\nimport {Link} from \"react-router-dom\"\r\n\r\n class Homepage extends Component {\r\n    render() {\r\n        return (\r\n          <div>\r\n            <h1>Welcome backpackers</h1>\r\n            <p>\r\n              \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do\r\n              eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut\r\n              enim ad minim veniam, quis nostrud exercitation ullamco laboris\r\n              nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in\r\n              reprehenderit in voluptate\r\n            </p>\r\n            <button className=\"btn btn-outline-dark\">\r\n              <Link to=\"/login\">Login</Link>\r\n            </button>\r\n            <button className=\"btn btn-outline-dark\">\r\n              <Link to=\"/signup\">Sign up</Link>\r\n            </button>\r\n          </div>\r\n        );\r\n    }\r\n}\r\nexport default Homepage;","import React, { Component } from 'react'\r\nimport \"../App.css\"\r\n\r\n class Login extends Component {\r\n    render() {\r\n        return (\r\n          <div>\r\n            <div className=\"container\">\r\n              <div className=\"row\">\r\n                <div className=\"col-sm-3\">\r\n                  <h1>Welcome back</h1>\r\n                  <form onSubmit={this.props.onAdd}>\r\n                    <div className=\"form-group\">\r\n                      <input\r\n                        className=\"form-control\"\r\n                        name=\"email\"\r\n                        type=\"email\"\r\n                        placeholder=\"Enter email\"\r\n                      />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                      <input\r\n                        className=\"form-control\"\r\n                        name=\"password\"\r\n                        type=\"password\"\r\n                        placeholder=\"Enter password\"\r\n                      />\r\n                    </div>\r\n                    <button className=\"btn btn-outline-dark\" type=\"submit\">\r\n                      Login\r\n                    </button>\r\n                  </form>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n    }\r\n}\r\nexport default Login;","import React, { Component } from 'react';\r\nimport \"./SignUp.css\";\r\n\r\nlet sectionStyle = {\r\n  width: \"100%\",\r\n  height: \"90vh\",\r\n  backgroundImage: \"url('/image/background_img.jpg')\",\r\n  backgroundPosition: 'center',\r\n  backgroundSize: 'cover',\r\n  backgroundRepeat: 'no-repeat'\r\n};\r\n\r\n\r\n\r\nclass SignUp extends Component {\r\n    render() {\r\n        return (\r\n          <div style={sectionStyle}>\r\n\r\n            <h1>Hello</h1>\r\n       \r\n            <form onSubmit={this.props.onAdd}>\r\n              <input name=\"name\" type=\"text\" placeholder=\"Enter name\" />\r\n              <input name=\"email\" type=\"email\" placeholder=\"Enter email\" />\r\n              <input name=\"password\" type=\"password\" placeholder=\"Enter password\" />\r\n              <button className=\"btn btn-outline-dark\" type=\"submit\">Signup</button>\r\n            </form>\r\n            \r\n          </div>\r\n        );\r\n    }\r\n}\r\nexport default SignUp;","import React, { Component } from 'react'\r\nimport { Link } from \"react-router-dom\";\r\n\r\n\r\n class NavTop extends Component {\r\n    render() {\r\n        return (\r\n          <div className=\"nav-container-card\">\r\n            <Link to=\"/allstories\">Logo</Link>\r\n          </div>\r\n        );\r\n    }\r\n}\r\nexport default NavTop;","import React, { Component } from 'react';\r\nimport Snuggle from 'react-snuggle';\r\nimport Map2 from './Map2';\r\nimport axios from 'axios';\r\nimport config from '../config';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport LikeButton from './button_components/LikeButton'\r\n\r\n// masonay doesn't work =========================================!!\r\n\r\n\r\n\r\nclass AllStories extends Component {\r\n\r\n    // this.props = {\r\n    //     stories: []\r\n    // }\r\n\r\n    render() {\r\n        const {stories, user} = this.props\r\n        // user verification\r\n            if (!user) {\r\n              return <Redirect to={\"/login\"} />;\r\n            }\r\n            \r\n        return (\r\n          <div>\r\n            <div className=\"container\">\r\n              <div className=\"row\">\r\n                <div className=\"col-sm-3\">\r\n                  <Map2 stories={stories} />\r\n\r\n                  <h1>all stories here</h1>\r\n                  {stories.map((story) => {\r\n                    return (\r\n                      <div>\r\n                        {/* <Snuggle> */}\r\n                        {/* link doesn't seem to work when wrapping image only ====================== */}\r\n                        <Link to={`/allstories/${story._id}`}>\r\n                          <div key={story._id}></div>\r\n                          <img\r\n                            src={story.image}\r\n                            alt=\"story image\"\r\n                            style={{ width: \"340px\" }}\r\n                          />\r\n                          <h4 className=\"title\">{story.title}</h4>\r\n                          <p className=\"description\">{story.description}</p>\r\n                          {/* how to link with the user name =======================================*/}\r\n                          <p className=\"creator\">{story.creator.email}</p>\r\n                        </Link>\r\n\r\n                        <div className=\"nav-container-card\">\r\n                          {/* like should be an image\r\n                                                like button goes back to 0 after refresh\r\n                                                how to take the like state to a single story page =================*/}\r\n                                            {/* <LikeButton story={story}/> */}\r\n                                        </div>\r\n\r\n                        <div className=\"nav-container-card\">\r\n                          {/* how to connect review with the story ==============================*/}\r\n                          <Link to={`/placeReview`}>place review</Link>\r\n                        </div>\r\n                      </div>\r\n                    );\r\n                    {\r\n                      /* </Snuggle> */\r\n                    }\r\n                  })}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );   \r\n    \r\n    }\r\n}\r\n    \r\n    \r\nexport default AllStories;\r\n\r\n\r\n\r\n\r\n\r\n","import React, { Component } from 'react'\r\n// like should be an image ===========================================!!\r\n// like button goes back to 0 after refresh ==========================!!\r\n// how to take the like state to a single story page =================!!\r\nimport axios from 'axios'\r\nimport config from '../../config'\r\n                                                \r\n                                                \r\n\r\nclass LikeButton extends Component {\r\n\r\n    state = {\r\n        number: 0\r\n    }\r\n\r\n    componentDidMount() {\r\n      this.setState({number: this.props.story.like.length})\r\n    }\r\n\r\n    // handle click event when button is clicked\r\n    handleClick = () => {\r\n      axios.patch(`${config.API_URL}/api/allstories/like/${this.props.story._id}`, {}, { withCredentials: true })\r\n        .then((response) => {\r\n          this.setState({number: response.data.like.length})\r\n\r\n        })\r\n\r\n        .catch(() => {\r\n\r\n        })\r\n\r\n        // console.log('button works')\r\n        // this.setState({\r\n        //     number: this.state.number + 1\r\n        // }), () => {\r\n        //     // you will always get the updated value\r\n        //     console.log(this.state.number)\r\n        // }\r\n    }\r\n\r\n    render() {\r\n        console.log(this.props.story)\r\n        return (\r\n          <button\r\n            className=\"btn btn-outline-dark\"\r\n            className=\"like-img-btn\"\r\n            onClick={this.handleClick}\r\n          >\r\n            like {this.state.number}\r\n          </button>\r\n        );\r\n    }\r\n}\r\n\r\nexport default LikeButton;\r\n","import React, { Component } from \"react\";\r\nimport {\r\n  MapContainer,\r\n  MapConsumer,\r\n  TileLayer,\r\n  Marker,\r\n  Popup,\r\n  useMap,\r\n} from \"react-leaflet\";\r\nimport L from \"leaflet\";\r\nimport \"leaflet/dist/leaflet.css\";\r\nimport AllStories from \"./AllStories\";\r\n\r\n\r\n\r\nfunction MyComponent(props) {\r\n  const map = useMap();\r\n  map.setView(props.center, props.zoom);\r\n  return null;\r\n}\r\n\r\nclass Map2 extends Component {\r\n  state = {\r\n    position: [44.7866, 20.4489],\r\n  };\r\n\r\n  //   componentDidUpdate() {\r\n  //     if (this.props.lat && this.props.lat !== this.state.position[0]) {\r\n  //       this.setState({\r\n  //         position: [this.props.lat, this.props.lon],\r\n  //       });\r\n  //     }\r\n  //   }\r\n\r\n  render() {\r\n    let myIcon = new L.Icon({\r\n      iconUrl: \"mapPin.png\",\r\n      iconSize: [33, 43],\r\n    });\r\n    const { position } = this.state;\r\n    // props has lat & log\r\n\r\n    // update position = [lat, lng]\r\n    console.log(this.state.position);\r\n    return (\r\n      <div id={\"asd\" + position[0]}>\r\n        <MapContainer\r\n          style={{ width: \"340px\", height: \"250px\" }}\r\n          center={position}\r\n          zoom={1}\r\n          scrollWheelZoom={false}\r\n        >\r\n          <MyComponent center={position} zoom={1} />\r\n          <TileLayer\r\n            attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n            url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n          />\r\n          {this.props.stories.map((story) => {\r\n            return (\r\n              <Marker\r\n                icon={myIcon}\r\n                position={[story.location.lat, story.location.lon]}\r\n              >\r\n                <Popup>\r\n                  this is a cool popup <br /> Easily customizable. //we can put\r\n                  a name of the user who made this popup and the location of the\r\n                  popup\r\n                </Popup>\r\n              </Marker>\r\n            );\r\n          })}\r\n        </MapContainer>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Map2;\r\n","import React, { Component } from 'react'\r\nimport Map2 from \"./Map2\"\r\n// import NavBottom from \"./NavTop\"\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport LikeButton from \"./button_components/LikeButton\";\r\n\r\n\r\n class UserProfile extends Component {\r\n   render() {\r\n      console.log(this.props.stories)\r\n\r\n        const { stories, user } = this.props;\r\n        if (!user) {\r\n          return <Redirect to={\"/login\"} />;\r\n        }\r\n        return (\r\n          <div>\r\n            <div className=\"nav-container-card\">\r\n              <button className=\"btn btn-outline-dark\">\r\n                <Link to=\"/edit\">edit profile</Link>\r\n              </button>\r\n            </div>\r\n            <Map2 stories={stories}/>\r\n\r\n            {stories.map((story) => {\r\n              return (\r\n                <div>\r\n                  {/* <Snuggle> */}\r\n                  {/* link doesn't seem to work when wrapping image only ====================== */}\r\n                  <Link to={`/allstories/${story._id}`}>\r\n                    <div key={story._id}></div>\r\n                    <img\r\n                      src={story.image}\r\n                      alt=\"story image\"\r\n                      style={{ width: \"340px\" }}\r\n                    />\r\n                    <h4 className=\"title\">{story.title}</h4>\r\n                    <p className=\"description\">{story.description}</p>\r\n                    {/* how to link with the user name =======================================*/}\r\n                    <p className=\"creator\">{story.creator.email}</p>\r\n                  </Link>\r\n\r\n                  <div className=\"nav-container-card\">\r\n                    {/* like should be an image\r\n                                                like button goes back to 0 after refresh\r\n                                                how to take the like state to a single story page =================*/}\r\n                    {/* <LikeButton story={story}/> */}\r\n                  </div>\r\n\r\n                  <div className=\"nav-container-card\">\r\n                    {/* how to connect review with the story ==============================*/}\r\n                    <Link to={`/placeReview`}>place review</Link>\r\n                  </div>\r\n                </div>\r\n              );\r\n              {\r\n                /* </Snuggle> */\r\n              }\r\n            })}\r\n            <button>\r\n              <Link to=\"/create\">Create your story</Link>\r\n            </button>\r\n          </div>\r\n        );\r\n    }\r\n}\r\nexport default UserProfile;","import React, { Component } from 'react'\r\nimport {Link} from \"react-router-dom\"\r\n\r\n class NavBottom extends Component {\r\n    render() {\r\n        return (\r\n          <div>\r\n            {\r\n              this.props.user ? (\r\n              <button className=\"btn btn-outline-dark\" onClick= {this.props.handleLogout} >logout</button>\r\n            ) : (null)\r\n            }\r\n            \r\n            {\r\n              this.props.user ? (\r\n              <button className=\"btn btn-outline-dark\">\r\n              <Link to=\"/user\">profile</Link>\r\n            </button>\r\n            ) : (null)\r\n            }\r\n          </div>\r\n        );\r\n    }\r\n}\r\nexport default NavBottom;\r\n","import React, { Component } from 'react';\r\nimport Snuggle from 'react-snuggle';\r\nimport Map from './Map';\r\nimport axios from 'axios';\r\nimport config from '../config';\r\nimport { Link } from 'react-router-dom';\r\nimport LikeButton from './button_components/LikeButton';\r\nimport {  Redirect } from \"react-router-dom\";\r\n\r\n\r\n class SingleStory extends Component {\r\n\r\n    state = {\r\n        story: {},\r\n    }\r\n\r\n    componentDidMount() {\r\n        let storyId = this.props.match.params.storyId\r\n\r\n        axios.get(`${config.API_URL}/api/allstories/${storyId}` ,{withCredentials: true})\r\n        .then((response) => {\r\n            console.log(response.data)\r\n          this.setState({ story: response.data })\r\n        })\r\n        .catch((error) => {\r\n            console.log('Story fetch failed')\r\n        })\r\n      }\r\n\r\n      render() {\r\n\r\n\r\n       const {story} = this.state\r\n        //user verification\r\n        // if (!user) {\r\n        //     return <Redirect to={\"/login\"} />;\r\n        //   }\r\n\r\n        // add spinner for before componenDidMount kicks\r\n        // or use a short method ? (that checks if creator exists)\r\n            return (\r\n                <div className=\"container\"> \r\n                  <div className=\"row\">\r\n                    <div className=\"col-sm-3\">\r\n                        \r\n                        <Snuggle>\r\n                            <img src={story.image} alt=\"story image\" style={{ width: \"340px\"}} />\r\n                            <h1 className=\"title\">{story.title}</h1>\r\n                            <p className=\"description\">{story.description}</p>\r\n                            {/* how to link with the user name =======================================*/}\r\n                            <p className=\"creator\">{story.creator?.email}</p>\r\n\r\n                            <div className=\"nav-container-story\">\r\n                                <div className=\"nav-story\">\r\n                                    {/* like should be an image\r\n                                    like button goes back to 0 after refresh\r\n                                    how to take the like state to a single story page =================*/}\r\n                                    {/* <LikeButton story={story}/> */}\r\n                                </div>\r\n\r\n                                    {\r\n                                    story.isOwner ? (\r\n                                    <button onClick={() => this.props.handleDelete(story)} className=\"btn btn-outline-dark\">delete</button>\r\n                                                ) : null\r\n                                    }\r\n\r\n                                <div className=\"nav-story\">\r\n                                    {/* how to connect review with the story ==============================*/}\r\n                                    <Link to={`/placeReview`}>place review</Link> \r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* <Map /> */}\r\n                        </Snuggle>\r\n                          \r\n                    </div>\r\n                 </div>\r\n              </div>  \r\n   \r\n            )\r\n        }  \r\n\r\n}  \r\n   \r\nexport default SingleStory;","import React, { Component } from 'react'\r\nimport config from \"../config\";\r\nimport axios from \"axios\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nclass EditUser extends Component {\r\n  state = {\r\n    user: {},\r\n  };\r\n\r\n  componentDidMount() {\r\n    axios\r\n      .get(`${config.API_URL}/api/user/${this.props.user._id}`)\r\n      .then((response) => {\r\n        this.setState({\r\n          user: response.data,                          \r\n        });\r\n      })\r\n      .catch(() => {\r\n        console.log(\"Detail fetch failed\");\r\n      });\r\n  }\r\n\r\n  handleNameChange = (event) => {\r\n    let text = event.target.value;\r\n    console.log(text);\r\n    let cloneUser = JSON.parse(JSON.stringify(this.state.user));\r\n    cloneUser.name = text;\r\n\r\n    this.setState({\r\n      user: cloneUser,\r\n    });\r\n  };\r\n\r\n  handleEmailChange = (event) => {\r\n    let email = event.target.value;\r\n    let cloneUser = JSON.parse(JSON.stringify(this.state.user));\r\n    cloneUser.email = email;\r\n\r\n    this.setState({\r\n      user: cloneUser,\r\n    });\r\n  };\r\n\r\n//   handlePasswordChange = (event) => {\r\n//     let password = event.target.value;\r\n//     let clonePassword = JSON.parse(JSON.stringify(this.state.user));\r\n//     clonePassword.password = password;\r\n\r\n//     this.setState({\r\n//       password: clonePassword,\r\n//     });\r\n//   };\r\n\r\n  render() {\r\n      const { user } = this.state;\r\n      //if you are not logedin you will be redirected to login page.\r\n       if (!user) {\r\n         return <Redirect to={\"/login\"} />;\r\n       }\r\n    return (\r\n      <div>\r\n        \r\n          <input name=\"name\" onChange={this.handleNameChange} value={user.name} type=\"text\" placeholder=\"Enter name\" />\r\n          <input name=\"email\" onChange={this.handleEmailChange} value={user.email} type=\"email\" placeholder=\"Enter email\" />\r\n          {/* <input name=\"password\" onChange={this.handlePasswordChange} value={user.password} type=\"password\" placeholder=\"Enter password\" /> */}\r\n          <button onClick={ () => { this.props.onEdit(user) } } className=\"btn btn-outline-dark\" >\r\n            Edit profile\r\n          </button>\r\n        \r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default EditUser;","import React, { Component } from 'react'\r\n\r\nclass NotFound extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                <h2> The page you are looking for does not exist. </h2>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default NotFound;","import React, { Component } from 'react';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport CreateStory from './components/CreateStory';\r\nimport { Switch, Route, withRouter } from \"react-router-dom\";\r\nimport Homepage from \"./components/Homepage\";\r\nimport Login from \"./components/Login\"\r\nimport Signup from \"./components/SignUp\";\r\nimport axios from \"axios\"\r\nimport config from \"./config\";\r\nimport NavTop from \"./components/NavTop\";\r\nimport UserProfile from \"./components/UserProfile\"\r\n// import LogOut from \"./components/LogOut\"\r\nimport NavBottom from \"./components/NavBottom\"\r\nimport AllStories from \"./components/AllStories\";\r\nimport SingleStory from \"./components/SingleStory\";\r\n// import CreateReview from \"./components/CreateReview\";\r\nimport EditUser from \"./components/EditUser\";\r\nimport NotFound from \"./components/NotFound\";\r\n\r\n\r\nclass App extends Component {\r\n  state = {\r\n    user: null,\r\n    stories: [],\r\n    story: {},\r\n    // ready: false,\r\n    // review: {}\r\n    fetching: false,\r\n  };\r\n\r\n  //Signup\r\n  handleSignup = (event) => {\r\n    event.preventDefault();\r\n    let name = event.target.name.value;\r\n    let email = event.target.email.value;\r\n    let password = event.target.password.value;\r\n\r\n    axios\r\n      .post(\r\n        `${config.API_URL}/api/signup`,\r\n        {\r\n          name: name,\r\n          email: email,\r\n          password: password,\r\n        },\r\n        { withCredentials: true }\r\n      )\r\n      .then((response) => {\r\n        this.setState(\r\n          {\r\n            user: response.data,\r\n          },\r\n          () => {\r\n            this.props.history.push(\"/login\");\r\n          }\r\n        );\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"Create failed\", err);\r\n      });\r\n  };\r\n\r\n  //Login\r\n  handleLogin = (event) => {\r\n    event.preventDefault();\r\n    let email = event.target.email.value;\r\n    let password = event.target.password.value;\r\n\r\n    axios\r\n      .post(\r\n        `${config.API_URL}/api/signin`,\r\n        {\r\n          //which api url goes here? config is not defined?\r\n          email: email,\r\n          password: password,\r\n        },\r\n        { withCredentials: true }\r\n      )\r\n      .then((response) => {\r\n        this.setState(\r\n          {\r\n            user: response.data,\r\n          },\r\n          () => {\r\n            this.props.history.push(\"/allstories\");\r\n          }\r\n        );\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"Create failed\", err);\r\n      });\r\n  };\r\n\r\n  // create story\r\n  handleSubmit = (event, lon, lat) => {\r\n    event.preventDefault();\r\n    let location = {};\r\n    location.lon = lon;\r\n    location.lat = lat;\r\n    let image = event.target.image.files[0];\r\n    let title = event.target.title.value;\r\n    let description = event.target.description.value;\r\n    // let public = event.target.public.value\r\n\r\n    let uploadForm = new FormData();\r\n    uploadForm.append(\"imageUrl\", image);\r\n\r\n    // send image to cloudinary\r\n    axios\r\n      .post(`${config.API_URL}/api/upload`, uploadForm, {\r\n        withCredentials: true,\r\n      })\r\n\r\n      .then((response) => {\r\n        // make an API call to the server side route to create a new story\r\n        axios\r\n          .post(\r\n            `${config.API_URL}/api/create`,\r\n            {\r\n              location: location,\r\n              image: response.data.image,\r\n              title: title,\r\n              description: description,\r\n              // public: public,\r\n              completed: false,\r\n            },\r\n            { withCredentials: true }\r\n          )\r\n\r\n          .then((response) => {\r\n            // when the server has created a story\r\n            // update the state that is visible to the user\r\n            this.setState(\r\n              {\r\n                stories: [response.data, ...this.state.stories],\r\n              },\r\n              () => {\r\n                // when story is created lead user to his page\r\n                this.props.history.push(\"/user\");\r\n              }\r\n            );\r\n          })\r\n          .catch((error) => {\r\n            console.log(\"Creating story failed\", error);\r\n          });\r\n      });\r\n  };\r\n  //LOGOUT\r\n  handleLogout = () => {\r\n    axios\r\n      .post(`${config.API_URL}/api/logout`, {}, { withCredentials: true })\r\n      .then(() => {\r\n        this.setState(\r\n          {\r\n            user: null,\r\n          },\r\n          () => {\r\n            this.props.history.push(\"/login\");\r\n          }\r\n        );\r\n      });\r\n  };\r\n\r\n\r\n//EDIT USER\r\n  handleEdit = (user) => {\r\n    axios\r\n      .patch(`${config.API_URL}/api/user/${user._id}`, {\r\n        name: user.name,\r\n        email: user.email,\r\n        password: user.password,\r\n      })\r\n      .then((res) => {\r\n        console.log(res.data)\r\n        this.getAllStories()\r\n        this.setState(\r\n          {\r\n            user: res.data,\r\n          },\r\n          () => {\r\n            this.props.history.push(\"/user\");\r\n          }\r\n        );\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"Edit failed\", err);\r\n      });\r\n  };\r\n\r\n  //DELETE\r\n  handleDelete = (story) => {\r\n    axios.delete(`${config.API_URL}/api/stories/${story._id}`) \r\n      .then((response) => {\r\n        //we need to acces the state and remove the element from the state and then update the state. and then 195 line of code will be done.\r\n        this.setState(\r\n          {\r\n            //return state.filter(territory => territory.id !== territoryId);\r\n            // postList: this.state.postList.filter(item => item.post_id != deletePostId)\r\n            stories: response.data\r\n          },\r\n          () => {\r\n            this.props.history.push(\"/user\");\r\n          }\r\n        );\r\n      })\r\n      .catch(() => {\r\n\r\n      })\r\n  }\r\n\r\n  // get all stories  // also for load screen\r\n  componentDidMount() {\r\n    axios\r\n      .get(`${config.API_URL}/api/user`, { withCredentials: true })\r\n      .then((res) => {\r\n        this.setState({ user: res.data, fetching: true });\r\n      })\r\n      .catch(() => {\r\n        console.log(\"sth wrong\");\r\n        this.setState({ fetching: true });\r\n      });\r\n\r\n    this.getAllStories()\r\n  }\r\n\r\n  getAllStories = () => {\r\n    axios\r\n      .get(`${config.API_URL}/api/allstories`)\r\n\r\n      .then((response) => {\r\n        console.log(response.data);\r\n        this.setState({ stories: response.data });\r\n      })\r\n\r\n      .catch(() => {\r\n        console.log(\"Fetching all stories failed\");\r\n      });\r\n  }\r\n  // create review\r\n  //   handleSubmitReview = (event) => {\r\n  //     event.preventDefault()\r\n  //     let review = event.target.review.value;\r\n\r\n  //     // make an API call to the server side Route to create a review\r\n  //     axios.post(`${config.API_URL}/api/placeReview`, {\r\n  //       review: review,\r\n  //       completed: false\r\n\r\n  //   }, {withCredentials: true})\r\n\r\n  //   .then((response) => {\r\n  //     // when server has created this new review, update your state that is visible to the user\r\n  //     this.setState({\r\n  //       reviews: [response.data, ...this.state.reviews],\r\n  //       completed: false,\r\n  //     }, () => {\r\n  //       // after updating state, go to update stories page\r\n  //       this.props.history.push(\"/allstories\")\r\n  //     })\r\n\r\n  //   })\r\n  //   .catch((err) => {\r\n  //     console.log('Failed create review', err)\r\n  //   })\r\n\r\n  //   .catch(() => {\r\n\r\n  //   })\r\n  // }\r\n\r\n  render() {\r\n    const { stories, user } = this.state;\r\n    const { review } = this.state;\r\n    if (!this.state.fetching) {\r\n      return <p>Loading...</p>;\r\n    }\r\n    return (\r\n      <div>\r\n        <NavTop />\r\n\r\n        <Switch>\r\n          \r\n          <Route\r\n            exact\r\n            path=\"/\"\r\n            render={() => {\r\n              return <Homepage user={user} />;\r\n            }}\r\n          />\r\n          <Route\r\n            exact\r\n            path=\"/signup\"\r\n            render={() => {\r\n              return <Signup onAdd={this.handleSignup} />; //can we have onAdd in both signup and login cases.\r\n            }}\r\n          />\r\n          <Route\r\n            exact\r\n            path=\"/login\"\r\n            render={() => {\r\n              return <Login onAdd={this.handleLogin} />; //would onAdd work???\r\n            }}\r\n          />\r\n          <Route\r\n            path=\"/create\"\r\n            render={() => {\r\n              return <CreateStory user={user} onAdd={this.handleSubmit} />;\r\n            }}\r\n          />\r\n          <Route\r\n            exact\r\n            path=\"/user\"\r\n            render={() => {\r\n              return <UserProfile stories={stories} user={user} />;\r\n            }}\r\n          />\r\n          <Route\r\n            exact\r\n            path=\"/user/:singleStory\"\r\n            render={(userProps) => {\r\n              return <UserProfile  story={story} user={user} />;\r\n            }}\r\n          />\r\n          <Route\r\n            exact\r\n            path=\"/allstories/:storyId\"\r\n            render={(routeProps) => {\r\n              return (\r\n                <SingleStory handleDelete={this.handleDelete} {...routeProps} stories={stories} user={user} />\r\n              );\r\n            }}\r\n          />\r\n          <Route\r\n            exact\r\n            path=\"/allstories\"\r\n            render={() => {\r\n              return <AllStories stories={stories} user={user} />;\r\n            }}\r\n          />\r\n\r\n          <Route\r\n            exact\r\n            path=\"/edit\"\r\n            render={(routeProps) => {\r\n              //not sure about this route...\r\n              return (\r\n                <EditUser user={user} onEdit={this.handleEdit}\r\n                  {...routeProps}\r\n                />\r\n              );\r\n            }}\r\n          />\r\n          <Route path=\"\" component={NotFound} />\r\n        </Switch>\r\n        <NavBottom user={user} handleLogout={this.handleLogout} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default withRouter(App);\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}