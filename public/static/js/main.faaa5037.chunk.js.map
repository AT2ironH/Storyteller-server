{"version":3,"sources":["components/Map.js","config.js","components/CreateStory.js","components/Homepage.js","components/Login.js","components/SignUp.js","components/NavTop.js","components/button_components/LikeButton.js","components/AllStories.js","components/Map2.js","components/UserProfile.js","components/NavBottom.js","components/SingleStory.js","components/EditUser.js","components/NotFound.js","App.js","index.js"],"names":["MyComponent","props","useMap","setView","center","zoom","Map","state","position","this","lat","setState","lon","myIcon","L","Icon","iconUrl","iconSize","console","log","id","MapContainer","style","width","height","scrollWheelZoom","TileLayer","attribution","url","Marker","icon","Popup","Component","process","CreateStory","story","inputLocation","handleChange","event","target","value","axios","get","config","then","response","data","aresponse","latitude","longitude","catch","err","stories","user","className","onSubmit","onAdd","onChange","name","type","placeholder","class","for","rows","data-type","to","sectionStyle","backgroundImage","backgroundPosition","backgroundSize","backgroundRepeat","Homepage","Login","SignUp","NavTop","LikeButton","number","handleClick","patch","_id","withCredentials","like","length","AllStories","nameClass","map","src","image","alt","title","description","creator","email","Map2","location","UserProfile","NavBottom","onClick","handleLogout","SingleStory","storyId","match","params","error","isOwner","handleDelete","EditUser","handleNameChange","text","cloneUser","JSON","parse","stringify","handleEmailChange","onEdit","NotFound","App","fetching","ownerStories","getAllStories","getMyStories","handleSignup","preventDefault","password","post","history","push","handleLogin","handleSubmit","files","uploadForm","FormData","append","completed","handleEdit","res","delete","deletedStoryId","filteredOwnerStories","filter","ownerStory","filteredStories","eachStory","exact","path","render","userProps","routeProps","component","withRouter","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.faaa5037.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport {\r\n  MapContainer,\r\n  MapConsumer,\r\n  TileLayer,\r\n  Marker,\r\n  Popup,\r\n  useMap,\r\n} from \"react-leaflet\";\r\nimport L from \"leaflet\"\r\nimport \"leaflet/dist/leaflet.css\";\r\n\r\n\r\n\r\nfunction MyComponent(props) {\r\n  const map = useMap();\r\n  map.setView(props.center, props.zoom);\r\n  return null;\r\n}\r\n\r\nclass Map extends Component {\r\n  state = {\r\n    position: [11.267489, -74.191023],\r\n  };\r\n\r\n  componentDidUpdate() {\r\n    if (this.props.lat && this.props.lat !== this.state.position[0]) {\r\n      this.setState({\r\n        position: [this.props.lat, this.props.lon],\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    \r\n    let myIcon = new L.Icon({\r\n      iconUrl: \"mapPin.png\",\r\n      iconSize: [33, 43],\r\n    });\r\n    const { position } = this.state;\r\n    // props has lat & log\r\n\r\n    // update position = [lat, lng]\r\n    console.log(this.state.position);\r\n    return (\r\n      <div id={\"asd\" + position[0]}>\r\n        <MapContainer \r\n          style={{ width: \"340px\", height: \"250px\"}}\r\n          center={position}\r\n          zoom={13}\r\n          scrollWheelZoom={false}\r\n        >\r\n          <MyComponent center={position} zoom={13} />\r\n          <TileLayer \r\n            attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n            url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n          />\r\n\r\n          <Marker icon={myIcon} position={position}>\r\n            <Popup>\r\n              this is a cool popup <br /> Easily customizable. //we can put a name of the user who made this popup and the location of the popup\r\n            </Popup>\r\n          </Marker>\r\n        </MapContainer>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Map;\r\n","export default {\r\n  API_URL: process.env.REACT_APP_SERVER_URL,\r\n  GEO_URL:\r\n    \"https://delia-aleks-proxy.herokuapp.com/pipe/http://api.positionstack.com/v1/forward?access_key=dd44dfea77b439fad7a76f83765bc8d5&query=\", //if we go over 25.000 req make another acc and paste key here\r\n};\r\n","import React, { Component } from 'react';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n// import Snuggle from 'react-snuggle';\r\nimport Map from './Map';\r\nimport axios from 'axios';\r\nimport config from '../config';\r\nimport { Link, Redirect } from \"react-router-dom\";\r\n\r\n\r\n\r\n class CreateStory extends Component {\r\n   state = {\r\n     story: {},\r\n     inputLocation: \"Taganga\",\r\n     lat: 11.267489,\r\n     lon: -74.191023,\r\n    //  public & private ===================\r\n    //  visibility: true  \r\n   };\r\n\r\n    // public & private =================\r\n  //  handlePrivacy = (event) => {\r\n  //    this.setState({\r\n  //     visibility: event.target.value,\r\n  //    });\r\n\r\n\r\n  //     .then((res) => {\r\n  //       if()\r\n        \r\n\r\n  //     })\r\n\r\n  //     .catch((err) => {\r\n\r\n  //     })\r\n  //  }\r\n\r\n   handleChange = (event) => {\r\n       this.setState({\r\n         inputLocation: event.target.value,\r\n       });\r\n     // make the api call here\r\n     axios.get(`${config.GEO_URL}${event.target.value}`)\r\n     .then((response) => {\r\n        console.log(response.data.data[0])\r\n        let aresponse = response.data.data[0];\r\n        this.setState({\r\n          lat: aresponse.latitude,\r\n          lon: aresponse.longitude,\r\n        });\r\n     })\r\n     .catch((err)=> {\r\n        console.log(\"sth went wrong\")\r\n     })\r\n     \r\n     \r\n   };\r\n\r\n   render() {\r\n     const { stories, user } = this.props;\r\n        if (!user) {\r\n          return <Redirect to={\"/login\"} />;}\r\n     return (\r\n       // <Snuggle>\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                <div className=\"col-sm-3\">\r\n\r\n        \r\n                    <Map className=\"map-single\" lon={this.state.lon} lat={this.state.lat} inputLocation={this.state.inputLocation} /><br/>\r\n                  \r\n                    <form onSubmit={ (event) => {this.props.onAdd(event, this.state.lon , this.state.lat)} }>\r\n                  \r\n\r\n                        <div className=\"form-group\">\r\n                          <input className=\"form-control\" onChange={this.handleChange} name=\"location\" value={this.state.inputLocation} type=\"text\" placeholder=\"Tell where it is..\" /> \r\n                        </div>\r\n\r\n                        <div class=\"custom-file form-group\">\r\n                          <input name=\"image\" type=\"file\" className=\"custom-file-input\" />\r\n                          <label class=\"custom-file-label\" for=\"customFile\">choose image</label>\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                          <input className=\"form-control\" name=\"title\" type=\"text\" placeholder=\"Tell the title of your story..\" />\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                          <textarea className=\"form-control form-text-window\" id=\"tellStory\" name=\"description\" rows=\"6\" placeholder=\"Tell your story....\" ></textarea>\r\n                        </div>\r\n\r\n                        {/*  public & private  */}\r\n                        {/* <div className=\"form-group\">\r\n                          <input name=\"btn-public\" type=\"checkbox\" className=\"btn-hide-show\" onChange={this.handlePrivacy} value={this.state.visibility} data-type=\"simple-switch\" />\r\n                          <label className=\"hide-show-label\">private</label>\r\n                        </div> */}\r\n\r\n                        <div className=\"form-group\">\r\n                          <input name=\"btn-public\" type=\"checkbox\" className=\"btn-hide-show\" data-type=\"simple-switch\" />\r\n                          <label className=\"switch\">private</label>\r\n                        </div> \r\n\r\n                        {/* <div className=\"form-group\">\r\n                          <label className=\"switch\">\r\n                            <input name=\"btn-public\" type=\"checkbox\" className=\"btn-hide-show\" data-type=\"simple-switch\" /> \r\n                            <span className=\"slider round\"></span>\r\n                          </label>               \r\n                        </div> */}\r\n\r\n                        <div className=\"form-group-pin\">\r\n                          <button name=\"btn-submit\" type=\"submit\" className=\"btn btn-outline-dark btn-pin\">pin</button>\r\n                        </div>\r\n              \r\n              </form>\r\n              </div>\r\n              </div>\r\n            </div>\r\n\r\n       //  </Snuggle>\r\n\r\n     );\r\n   }\r\n }\r\n\r\nexport default CreateStory;\r\n\r\n ","import React, { Component } from 'react'\r\nimport {Link} from \"react-router-dom\"\r\n\r\nlet sectionStyle = {\r\n  width: \"100%\",\r\n  height: \"94vh\",\r\n  backgroundImage: \"url('/image/background_img.jpg')\",\r\n  // backgroundImage: \"url('/image/mountain_lake.jpg')\",\r\n  backgroundPosition: 'center',\r\n  backgroundSize: 'cover',\r\n  backgroundRepeat: 'no-repeat'\r\n};\r\n\r\n class Homepage extends Component {\r\n    render() {\r\n        return (\r\n          <div style={sectionStyle}> \r\n            <div className=\"backdrop-auth\">\r\n              <h1 className=\"welcome\">welcome<br></br>backpackers</h1>\r\n  \r\n                <p className=\"welcome-intro\">\r\n                  \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do\r\n                  eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut\r\n                  enim ad minim veniam, quis nostrud exercitation ullamco laboris\r\n                  nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in\r\n                  reprehenderit in voluptate\r\n                </p>\r\n\r\n                <div className=\"btn-home-page-box\">\r\n                  <button className=\"btn-home btn btn-outline-dark\">\r\n                    <Link className=\"btn-home\" to=\"/login\">Login</Link>\r\n                  </button>\r\n                \r\n                  <button className=\"btn-home btn btn-outline-dark\">\r\n                    <Link className=\"btn-home\" to=\"/signup\">Sign up</Link>\r\n                  </button>\r\n                </div>\r\n                \r\n            </div>\r\n         </div>\r\n        );\r\n    }\r\n}\r\nexport default Homepage;","import React, { Component } from 'react'\r\n//import \"../App.css\"\r\n\r\nlet sectionStyle = {\r\n  width: \"100%\",\r\n  height: \"90vh\",\r\n  backgroundImage: \"url('/image/mountain_lake.jpg')\",\r\n  backgroundPosition: 'center',\r\n  backgroundSize: 'cover',\r\n  backgroundRepeat: 'no-repeat'\r\n};\r\n\r\n class Login extends Component {\r\n    render() {\r\n        return (\r\n          <div style={sectionStyle}> \r\n            <div className=\"backdrop-auth\">\r\n              <h1>welcome back</h1>\r\n          \r\n                <div className=\"container\">\r\n                  <div className=\"row\">\r\n                    <div className=\"col-sm-3\">\r\n                    \r\n                    <form onSubmit={this.props.onAdd}>\r\n                      <div className=\"form-group\">\r\n                        <input\r\n                          className=\"auth-form form-control\"\r\n                          name=\"email\"\r\n                          type=\"email\"\r\n                          placeholder=\"Enter email\"\r\n                        />\r\n                      </div>\r\n                      <div className=\"form-group\">\r\n                        <input\r\n                          className=\"auth-form form-control\"\r\n                          name=\"password\"\r\n                          type=\"password\"\r\n                          placeholder=\"Enter password\"\r\n                        />\r\n                      </div>\r\n                      <div className=\"form-group\">\r\n                        <button className=\" btn-round \" type=\"submit\">go</button>\r\n                      </div>\r\n                  </form>\r\n\r\n                </div>\r\n               </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n    }\r\n}\r\nexport default Login;","import React, { Component } from 'react';\r\n\r\n\r\n\r\nlet sectionStyle = {\r\n  width: \"100%\",\r\n  height: \"90vh\",\r\n  // backgroundImage: \"url('/image/background_img.jpg')\",\r\n  backgroundImage: \"url('/image/mountain_lake.jpg')\",\r\n  backgroundPosition: 'center',\r\n  backgroundSize: 'cover',\r\n  backgroundRepeat: 'no-repeat'\r\n};\r\n\r\n\r\n\r\nclass SignUp extends Component {\r\n    render() {\r\n        return (\r\n          <div style={sectionStyle}>\r\n\r\n            <div className=\"backdrop-auth\">\r\n              <h1>make an account</h1>\r\n              <form onSubmit={this.props.onAdd}>\r\n                  <div className=\"form-group\">\r\n                    <input name=\"name\" className=\"auth-form form-control\" type=\"text\" placeholder=\"Enter name\" />\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <input name=\"email\" className=\"auth-form form-control\" type=\"email\" placeholder=\"Enter email\" />\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <input name=\"password\" className=\"auth-form form-control\" type=\"password\" placeholder=\"Enter password\" />\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <button className=\"btn-round\" type=\"submit\">go</button>\r\n                  </div>\r\n              </form>\r\n            </div>\r\n\r\n          </div>\r\n        );\r\n    }\r\n}\r\nexport default SignUp;","import React, { Component } from 'react'\r\nimport { Link } from \"react-router-dom\";\r\n\r\n\r\n class NavTop extends Component {\r\n    render() {\r\n        return (\r\n          <div className=\"nav-top\">\r\n            <Link to=\"/allstories\">Logo</Link>\r\n          </div>\r\n        );\r\n    }\r\n}\r\nexport default NavTop;","import React, { Component } from 'react'\r\n// like should be an image ===========================================!!\r\n// like button goes back to 0 after refresh ==========================!!\r\n// how to take the like state to a single story page =================!!\r\nimport axios from 'axios'\r\nimport config from '../../config'\r\n                                                \r\n                                                \r\n\r\nclass LikeButton extends Component {\r\n\r\n    state = {\r\n        number: 0,\r\n        \r\n    }\r\n\r\n    componentDidMount() {\r\n      this.setState({number: this.props.story?.like?.length})\r\n    }\r\n\r\n    // handle click event when button is clicked\r\n    handleClick = () => {\r\n      axios.patch(`${config.API_URL}/api/allstories/like/${this.props.story._id}`, {}, { withCredentials: true })\r\n        .then((response) => {\r\n          this.setState({number: response.data?.like?.length})\r\n\r\n        })\r\n\r\n        .catch(() => {\r\n\r\n        })\r\n\r\n        // console.log('button works')\r\n        // this.setState({\r\n        //     number: this.state.number + 1\r\n        // }), () => {\r\n        //     // you will always get the updated value\r\n        //     console.log(this.state.number)\r\n        // }\r\n    }\r\n\r\n    render() {\r\n        console.log(this.props.story)\r\n        return (\r\n          <div className=\"container-like\">\r\n            <button className=\"like-box\"\r\n              className=\"btn btn-outline-dark\"\r\n              className=\"like-img-btn\"\r\n              onClick={this.handleClick}\r\n            >\r\n              like   {this.state.number}\r\n            </button>\r\n          </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default LikeButton;\r\n","import React, { Component } from 'react';\r\nimport Snuggle from 'react-snuggle';\r\nimport Map2 from './Map2';\r\nimport axios from 'axios';\r\nimport config from '../config';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport LikeButton from './button_components/LikeButton'\r\n\r\n// masonay doesn't work =========================================!!\r\n\r\n\r\n\r\nclass AllStories extends Component {\r\n\r\n    // this.props = {\r\n    //     stories: []\r\n    // }\r\n\r\n    render() {\r\n        const {stories, user} = this.props\r\n        // user verification\r\n            if (!user) {\r\n              return <Redirect to={\"/login\"} />;\r\n            }\r\n            \r\n        return (\r\n          <div className=\"stories-box\">\r\n          {/* <h1 className=\"stories-title\">all amazing stories</h1> */}\r\n            <div className=\"container-story\">\r\n              <div className=\"row\">\r\n                <div className=\"col-sm-3 all-stories\">\r\n                  <Map2 nameClass=\"map-all\" stories={stories} />\r\n                  <h1 className=\"stories-title\">all amazing stories</h1>\r\n\r\n                  \r\n                  {stories.map((story) => {\r\n                    return (\r\n                      <div className=\"story-card\">\r\n                        {/* <Snuggle> */}\r\n                        {/* link doesn't seem to work when wrapping image only ====================== */}\r\n                        <Link to={`/allstories/${story._id}`}>\r\n                          <div key={story._id}></div>\r\n                          <img\r\n                            src={story.image}\r\n                            alt=\"story image\"\r\n                            style={{ width: \"340px\" }}\r\n                          />\r\n                          <h4 className=\"title-story\">{story.title}</h4>\r\n                          <p className=\"description-story\">{story.description}</p>\r\n                          {/* how to link with the user name =======================================*/}\r\n                          <p className=\"creator-story\">{story.creator.email}</p>\r\n                        </Link>\r\n\r\n                        <div className=\"nav-container-card\">\r\n                          {/* like should be an image\r\n                          like button goes back to 0 after refresh\r\n                          how to take the like state to a single story page =================*/}\r\n                            <LikeButton className=\"like-story\" story={story}/>\r\n                        </div>\r\n\r\n              \r\n                      </div>\r\n                    );\r\n                    {\r\n                      /* </Snuggle> */\r\n                    }\r\n                  })}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );   \r\n    \r\n    }\r\n}\r\n    \r\n    \r\nexport default AllStories;\r\n\r\n\r\n\r\n\r\n\r\n","import React, { Component } from \"react\";\r\nimport {\r\n  MapContainer,\r\n  MapConsumer,\r\n  TileLayer,\r\n  Marker,\r\n  Popup,\r\n  useMap,\r\n} from \"react-leaflet\";\r\nimport L from \"leaflet\";\r\nimport \"leaflet/dist/leaflet.css\";\r\nimport AllStories from \"./AllStories\";\r\n\r\n\r\n\r\nfunction MyComponent(props) {\r\n  const map = useMap();\r\n  map.setView(props.center, props.zoom);\r\n  return null;\r\n}\r\n\r\nclass Map2 extends Component {\r\n  state = {\r\n    position: [44.7866, 20.4489],\r\n  };\r\n\r\n  //   componentDidUpdate() {\r\n  //     if (this.props.lat && this.props.lat !== this.state.position[0]) {\r\n  //       this.setState({\r\n  //         position: [this.props.lat, this.props.lon],\r\n  //       });\r\n  //     }\r\n  //   }\r\n\r\n  render() {\r\n    let myIcon = new L.Icon({\r\n      iconUrl: \"mapPin.png\",\r\n      iconSize: [33, 43],\r\n    });\r\n    const { position } = this.state;\r\n    // props has lat & log\r\n\r\n    // update position = [lat, lng]\r\n    console.log(this.state.position);\r\n    return (\r\n      <div id={\"asd\" + position[0]}>\r\n        <MapContainer\r\n          style={{ width: \"340px\", height: \"250px\" }}\r\n          center={position}\r\n          zoom={1}\r\n          scrollWheelZoom={false}\r\n        >\r\n          <MyComponent center={position} zoom={1} />\r\n          <TileLayer\r\n            attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n            url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n          />\r\n          {this.props.stories.map((story) => {\r\n            return (\r\n              <Marker\r\n                icon={myIcon}\r\n                position={[story.location.lat, story.location.lon]}\r\n              >\r\n                <Popup>\r\n                  this is a cool popup <br /> Easily customizable. //we can put\r\n                  a name of the user who made this popup and the location of the\r\n                  popup\r\n                </Popup>\r\n              </Marker>\r\n            );\r\n          })}\r\n        </MapContainer>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Map2;\r\n","import React, { Component } from 'react'\r\nimport Map2 from \"./Map2\"\r\n// import NavBottom from \"./NavTop\"\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport LikeButton from \"./button_components/LikeButton\";\r\n\r\n\r\n class UserProfile extends Component {\r\n   render() {\r\n      // console.log(this.props.stories)\r\n\r\n        const { stories, user } = this.props;\r\n        if (!user) {\r\n          return <Redirect to={\"/login\"} />;\r\n        }\r\n\r\n        return (\r\n          <div>\r\n          {/* top navbar */}\r\n            <div className=\"nav-container-card\">\r\n              <button className=\"btn btn-outline-dark\"><Link to=\"/edit\">edit profile</Link></button>\r\n            </div>\r\n\r\n            {/* map & story container */}\r\n            <div className=\"stories-box\">\r\n              <div className=\"container-story container-user-stories\">\r\n                <div className=\"row\">\r\n                  <div className=\"col-sm-3 user-story-card\">\r\n              \r\n                     <Map2 nameClass=\"map-all\" stories={stories}/>\r\n                     {/* <h1 className=\"stories-title\">your stories</h1> */}\r\n\r\n                     <div className=\"container-create\">\r\n                          <button className=\" btn-create\" ><Link  className=\"create-link-btn\" to=\"/create\">make another story</Link></button>\r\n                      </div>\r\n\r\n                        {stories.map((story) => {\r\n                          return (\r\n                            <div className=\"story-card\">\r\n                              {/* <Snuggle> */}\r\n                              {/* link doesn't seem to work when wrapping image only ====================== */}\r\n                              \r\n                              <Link to={`/allstories/${story._id}`}>\r\n                                <div key={story._id}></div>\r\n                                <img\r\n                                  src={story.image}\r\n                                  alt=\"story image\"\r\n                                  style={{ width: \"340px\" }}\r\n                                />\r\n                                <h4 className=\"title-story\">{story.title}</h4>\r\n                                <p className=\"description-story\">{story.description}</p>\r\n\r\n                                {/* <p className=\"creator\">{story.creator.email}</p> */}\r\n                              </Link>\r\n\r\n                              <div className=\"nav-container-card\">\r\n                                {/* like should be an image\r\n                                  like button goes back to 0 after refresh\r\n                                  how to take the like state to a single story page ================= */}\r\n                                <LikeButton className=\"like-story\" story={story}/>\r\n                              </div>\r\n                            </div>\r\n                          );\r\n                          {\r\n                            /* </Snuggle> */\r\n                          }\r\n                        })}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          \r\n        );\r\n    }\r\n}\r\nexport default UserProfile;","import React, { Component } from 'react'\r\nimport {Link} from \"react-router-dom\"\r\n\r\n class NavBottom extends Component {\r\n    render() {\r\n        return (\r\n          <div className=\"nav-bottom\">\r\n            {\r\n              this.props.user ? (\r\n              <button className=\"btn btn-outline-dark btn-nav-bottom\" onClick= {this.props.handleLogout} >logout</button>\r\n            ) : (null)\r\n            }\r\n\r\n            {/* {\r\n              this.props.user ? (\r\n              <button className=\"btn btn-outline-dark btn-nav-bottom\">\r\n                <Link to=\"/create\">create</Link>\r\n              </button>\r\n              ) : (null)\r\n            } */}\r\n\r\n            {\r\n              this.props.user ? (\r\n              <button className=\"btn btn-outline-dark btn-nav-bottom\">\r\n                <Link nameClass=\"nav-btn\" to=\"/user\">profile</Link>\r\n              </button>\r\n            ) : (null)\r\n            }\r\n\r\n           \r\n          </div>\r\n        );\r\n    }\r\n}\r\nexport default NavBottom;\r\n","import React, { Component } from 'react';\r\nimport Snuggle from 'react-snuggle';\r\nimport Map from './Map';\r\nimport axios from 'axios';\r\nimport config from '../config';\r\nimport { Link } from 'react-router-dom';\r\nimport LikeButton from './button_components/LikeButton';\r\nimport {  Redirect } from \"react-router-dom\";\r\n\r\n\r\n class SingleStory extends Component {\r\n\r\n    state = {\r\n        story: {},\r\n    }\r\n\r\n    componentDidMount() {\r\n        let storyId = this.props.match.params.storyId\r\n\r\n        axios.get(`${config.API_URL}/api/allstories/${storyId}` ,{withCredentials: true})\r\n        .then((response) => {\r\n            console.log(response.data)\r\n          this.setState({ story: response.data })\r\n        })\r\n        .catch((error) => {\r\n            console.log('Story fetch failed')\r\n        })\r\n      }\r\n\r\n      render() {\r\n\r\n\r\n       const {story} = this.state\r\n        //user verification\r\n        // if (!user) {\r\n        //     return <Redirect to={\"/login\"} />;\r\n        //   }\r\n\r\n        // add spinner for before componenDidMount kicks\r\n        // or use a short method ? (that checks if creator exists)\r\n            return (\r\n                <div className=\"container\"> \r\n                  <div className=\"row\">\r\n                    <div className=\"col-sm-3 single-story-card\">\r\n                        \r\n                        <Snuggle>\r\n                            <img src={story.image} alt=\"story image\" style={{ width: \"340px\"}} />\r\n                            <h1 className=\"title-story\">{story.title}</h1>\r\n                            <p className=\"description-story\">{story.description}</p>\r\n                            {/* how to link with the user name =======================================*/}\r\n                            <p className=\"creator-story\">{story.creator?.email}</p>\r\n\r\n                            <div className=\"nav-container-story\">\r\n                                <div className=\"nav-story\">\r\n                                    {/* like should be an image\r\n                                    like button goes back to 0 after refresh\r\n                                    how to take the like state to a single story page =================*/}\r\n                                    <LikeButton story={story}/>\r\n                                </div>\r\n\r\n                                <div className=\"container-like\">\r\n                                    {\r\n                                    story.isOwner ? (\r\n                                    <button onClick={() => this.props.handleDelete(story)} className=\"delete-img-btn btn btn-outline-dark\">delete</button>\r\n                                                ) : null\r\n                                    }\r\n                                </div>\r\n\r\n                                <div className=\"nav-story\">\r\n                                    {/* how to connect review with the story ==============================*/}\r\n                                    {/* <Link to={`/placeReview`}>place review</Link>  */}\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* <Map /> */}\r\n                        </Snuggle>\r\n                          \r\n                    </div>\r\n                 </div>\r\n              </div>  \r\n   \r\n            )\r\n        }  \r\n\r\n}  \r\n   \r\nexport default SingleStory;","import React, { Component } from 'react'\r\nimport config from \"../config\";\r\nimport axios from \"axios\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nlet sectionStyle = {\r\n  width: \"100%\",\r\n  height: \"90vh\",\r\n  backgroundImage: \"url('/image/mountain_lake.jpg')\",\r\n  backgroundPosition: 'center',\r\n  backgroundSize: 'cover',\r\n  backgroundRepeat: 'no-repeat'\r\n};\r\n\r\nclass EditUser extends Component {\r\n  state = {\r\n    user: {},\r\n  };\r\n\r\n  componentDidMount() {\r\n    axios\r\n      .get(`${config.API_URL}/api/user/${this.props.user._id}`)\r\n      .then((response) => {\r\n        this.setState({\r\n          user: response.data,                          \r\n        });\r\n      })\r\n      .catch(() => {\r\n        console.log(\"Detail fetch failed\");\r\n      });\r\n  }\r\n\r\n  handleNameChange = (event) => {\r\n    let text = event.target.value;\r\n    console.log(text);\r\n    let cloneUser = JSON.parse(JSON.stringify(this.state.user));\r\n    cloneUser.name = text;\r\n\r\n    this.setState({\r\n      user: cloneUser,\r\n    });\r\n  };\r\n\r\n  handleEmailChange = (event) => {\r\n    let email = event.target.value;\r\n    let cloneUser = JSON.parse(JSON.stringify(this.state.user));\r\n    cloneUser.email = email;\r\n\r\n    this.setState({\r\n      user: cloneUser,\r\n    });\r\n  };\r\n\r\n//   handlePasswordChange = (event) => {\r\n//     let password = event.target.value;\r\n//     let clonePassword = JSON.parse(JSON.stringify(this.state.user));\r\n//     clonePassword.password = password;\r\n\r\n//     this.setState({\r\n//       password: clonePassword,\r\n//     });\r\n//   };\r\n\r\n  render() {\r\n      const { user } = this.state;\r\n      //if you are not logedin you will be redirected to login page.\r\n       if (!user) {\r\n         return <Redirect to={\"/login\"} />;\r\n       }\r\n    return (\r\n        <div style={sectionStyle}> \r\n\r\n          <div className=\"backdrop-auth\">\r\n            <h1>edit account</h1>\r\n              <div className=\"edit-box\">\r\n        \r\n                <div className=\"form-group\">\r\n                    <input name=\"name\" className=\"auth-form form-control\" onChange={this.handleNameChange} value={user.name} type=\"text\" placeholder=\"Enter name\" />\r\n                  </div> \r\n                  <div className=\"form-group\">\r\n                    <input name=\"email\" className=\"auth-form form-control\" onChange={this.handleEmailChange} value={user.email} type=\"email\" placeholder=\"Enter email\" />\r\n                    {/* <input name=\"password\" onChange={this.handlePasswordChange} value={user.password} type=\"password\" placeholder=\"Enter password\" /> */}\r\n                  </div> \r\n\r\n                  <div className=\"form-group\">\r\n                    <button onClick={ () => { this.props.onEdit(user) } } className=\"btn-round-edit\" type=\"submit\"> edit </button>\r\n                  </div>\r\n              </div>\r\n          </div>\r\n        </div> \r\n       \r\n    );\r\n  }\r\n}\r\n\r\nexport default EditUser;","import React, { Component } from 'react'\r\n\r\nclass NotFound extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                <h2> The page you are looking for does not exist. </h2>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default NotFound;","import React, { Component } from 'react';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport \"./App.css\"\r\nimport CreateStory from './components/CreateStory';\r\nimport { Switch, Route, withRouter } from \"react-router-dom\";\r\nimport Homepage from \"./components/Homepage\";\r\nimport Login from \"./components/Login\"\r\nimport Signup from \"./components/SignUp\";\r\nimport axios from \"axios\"\r\nimport config from \"./config\";\r\nimport NavTop from \"./components/NavTop\";\r\nimport UserProfile from \"./components/UserProfile\"\r\n// import LogOut from \"./components/LogOut\"\r\nimport NavBottom from \"./components/NavBottom\"\r\nimport AllStories from \"./components/AllStories\";\r\nimport SingleStory from \"./components/SingleStory\";\r\n// import CreateReview from \"./components/CreateReview\";\r\nimport EditUser from \"./components/EditUser\";\r\nimport NotFound from \"./components/NotFound\";\r\n\r\n\r\nclass App extends Component {\r\n  state = {\r\n    user: null,\r\n    stories: [],\r\n    story: {},\r\n    // ready: false,\r\n    // review: {}\r\n    fetching: false,\r\n    ownerStories: [],\r\n  };\r\n\r\n  // get all stories  // also for load screen\r\n  componentDidMount() {\r\n    axios\r\n      .get(`${config.API_URL}/api/user`, { withCredentials: true })\r\n      .then((res) => {\r\n        this.setState({ user: res.data, fetching: true });\r\n      })\r\n      .catch(() => {\r\n        console.log(\"sth wrong\");\r\n        this.setState({ fetching: true });\r\n      });\r\n\r\n    this.getAllStories();\r\n    this.getMyStories()\r\n  }\r\n\r\n  getAllStories = () => {\r\n    axios\r\n      .get(`${config.API_URL}/api/allstories`, { withCredentials: true })\r\n\r\n      .then((response) => {\r\n        console.log(\"All Stories:\", response.data);\r\n        // filter through response.data only for the stories created by the user. that needs to be inside the same set state below\r\n        // let newRes = response.data.creator._id.map((single) => {\r\n        //   if (creator._id === single._id){\r\n        //     single = newRes\r\n        //   }\r\n        //})\r\n        this.setState({ stories: response.data });\r\n      })\r\n\r\n      .catch(() => {\r\n        console.log(\"Fetching all stories failed\");\r\n      });\r\n  };\r\n\r\n  getMyStories = () => {\r\n    axios\r\n      .get(`${config.API_URL}/api/myStories`, { withCredentials: true })\r\n\r\n      .then((response) => {\r\n        console.log(\"myStories:\", response.data);\r\n        this.setState({ ownerStories: response.data });\r\n      })\r\n\r\n      .catch(() => {\r\n        console.log(\"Fetching all stories failed\");\r\n      });\r\n  };\r\n\r\n  //Signup\r\n  handleSignup = (event) => {\r\n    event.preventDefault();\r\n    let name = event.target.name.value;\r\n    let email = event.target.email.value;\r\n    let password = event.target.password.value;\r\n\r\n    axios\r\n      .post(\r\n        `${config.API_URL}/api/signup`,\r\n        {\r\n          name: name,\r\n          email: email,\r\n          password: password,\r\n        },\r\n        { withCredentials: true }\r\n      )\r\n      .then((response) => {\r\n        this.setState(\r\n          {\r\n            user: response.data,\r\n          },\r\n          () => {\r\n            this.props.history.push(\"/login\");\r\n          }\r\n        );\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"Create failed\", err);\r\n      });\r\n  };\r\n\r\n  //Login\r\n  handleLogin = (event) => {\r\n    event.preventDefault();\r\n    let email = event.target.email.value;\r\n    let password = event.target.password.value;\r\n\r\n    axios\r\n      .post(\r\n        `${config.API_URL}/api/signin`,\r\n        {\r\n          //which api url goes here? config is not defined?\r\n          email: email,\r\n          password: password,\r\n        },\r\n        { withCredentials: true }\r\n      )\r\n      .then((response) => {\r\n        this.setState(\r\n          {\r\n            user: response.data,\r\n          },\r\n          () => {\r\n            this.getAllStories()\r\n            this.getMyStories()\r\n            this.props.history.push(\"/allstories\");\r\n          }\r\n        );\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"Create failed\", err);\r\n      });\r\n  };\r\n\r\n  // create story\r\n  handleSubmit = (event, lon, lat) => {\r\n    event.preventDefault();\r\n    let location = {};\r\n    location.lon = lon;\r\n    location.lat = lat;\r\n    let image = event.target.image.files[0];\r\n    let title = event.target.title.value;\r\n    let description = event.target.description.value;\r\n    // let public = event.target.public.value\r\n\r\n    let uploadForm = new FormData();\r\n    uploadForm.append(\"imageUrl\", image);\r\n\r\n    // send image to cloudinary\r\n    axios\r\n      .post(`${config.API_URL}/api/upload`, uploadForm, {\r\n        withCredentials: true,\r\n      })\r\n\r\n      .then((response) => {\r\n        // make an API call to the server side route to create a new story\r\n        axios\r\n          .post(\r\n            `${config.API_URL}/api/create`,\r\n            {\r\n              location: location,\r\n              image: response.data.image,\r\n              title: title,\r\n              description: description,\r\n              // public: public,\r\n              completed: false,\r\n            },\r\n            { withCredentials: true }\r\n          )\r\n\r\n          .then((response) => {\r\n            // when the server has created a story\r\n            // update the state that is visible to the user\r\n            this.setState(\r\n              {\r\n                stories: [response.data, ...this.state.stories],\r\n              },\r\n              () => {\r\n                // when story is created lead user to his page\r\n                this.props.history.push(\"/user\");\r\n              }\r\n            );\r\n          })\r\n          .catch((error) => {\r\n            console.log(\"Creating story failed\", error);\r\n          });\r\n      });\r\n  };\r\n  //LOGOUT\r\n  handleLogout = () => {\r\n    axios\r\n      .post(`${config.API_URL}/api/logout`, {}, { withCredentials: true })\r\n      .then(() => {\r\n        this.setState(\r\n          {\r\n            user: null,\r\n            stories: [],\r\n            ownerStories: []\r\n          },\r\n          () => {\r\n            this.props.history.push(\"/login\");\r\n          }\r\n        );\r\n      });\r\n  };\r\n\r\n  //EDIT USER\r\n  handleEdit = (user) => {\r\n    axios\r\n      .patch(`${config.API_URL}/api/user/${user._id}`, {\r\n        name: user.name,\r\n        email: user.email,\r\n        password: user.password,\r\n      })\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        this.getAllStories();\r\n        this.setState(\r\n          {\r\n            user: res.data,\r\n          },\r\n          () => {\r\n            this.props.history.push(\"/user\");\r\n          }\r\n        );\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"Edit failed\", err);\r\n      });\r\n  };\r\n\r\n  //DELETE\r\n  handleDelete = (story) => {\r\n    axios\r\n      .delete(`${config.API_URL}/api/stories/${story._id}`)\r\n      .then((response) => {\r\n        console.log(response.data);\r\n        //we need to acces the state and remove the element from the state and then update the state. and then 195 line of code will be done.\r\n\r\n        //return state.filter(territory => territory.id !== territoryId);\r\n        // postList: this.state.postList.filter(item => item.post_id != deletePostId)  //none of these examples worked for me\r\n\r\n        // we need to grab the stories state and filter out the deleted element\r\n        let deletedStoryId = response.data._id;\r\n        let filteredOwnerStories = this.state.ownerStories.filter(\r\n          (ownerStory) => ownerStory._id !== deletedStoryId\r\n        )\r\n\r\n        let filteredStories = this.state.stories.filter(\r\n          (eachStory) => eachStory._id !== deletedStoryId\r\n        );\r\n\r\n        this.setState({ stories: filteredStories, ownerStories: filteredOwnerStories }, () => {\r\n          this.props.history.push(\"/user\");\r\n        });\r\n      })\r\n      .catch(() => {});\r\n  };\r\n\r\n  // create review\r\n  //   handleSubmitReview = (event) => {\r\n  //     event.preventDefault()\r\n  //     let review = event.target.review.value;\r\n\r\n  //     // make an API call to the server side Route to create a review\r\n  //     axios.post(`${config.API_URL}/api/placeReview`, {\r\n  //       review: review,\r\n  //       completed: false\r\n\r\n  //   }, {withCredentials: true})\r\n\r\n  //   .then((response) => {\r\n  //     // when server has created this new review, update your state that is visible to the user\r\n  //     this.setState({\r\n  //       reviews: [response.data, ...this.state.reviews],\r\n  //       completed: false,\r\n  //     }, () => {\r\n  //       // after updating state, go to update stories page\r\n  //       this.props.history.push(\"/allstories\")\r\n  //     })\r\n\r\n  //   })\r\n  //   .catch((err) => {\r\n  //     console.log('Failed create review', err)\r\n  //   })\r\n\r\n  //   .catch(() => {\r\n\r\n  //   })\r\n  // }\r\n\r\n  render() {\r\n    const { stories, ownerStories, user } = this.state;\r\n    // const { review } = this.state;\r\n    if (!this.state.fetching) {\r\n      return <p>Loading...</p>;\r\n    }\r\n    return (\r\n      <div>\r\n        <NavTop />\r\n\r\n        <Switch>\r\n          <Route\r\n            exact\r\n            path=\"/\"\r\n            render={() => {\r\n              return <Homepage user={user} />;\r\n            }}\r\n          />\r\n          <Route\r\n            exact\r\n            path=\"/signup\"\r\n            render={() => {\r\n              return <Signup onAdd={this.handleSignup} />;\r\n            }}\r\n          />\r\n          <Route\r\n            exact\r\n            path=\"/login\"\r\n            render={() => {\r\n              return <Login onAdd={this.handleLogin} />;\r\n            }}\r\n          />\r\n          <Route\r\n            path=\"/create\"\r\n            render={() => {\r\n              return <CreateStory user={user} onAdd={this.handleSubmit} />;\r\n            }}\r\n          />\r\n          <Route\r\n            exact\r\n            path=\"/user\"\r\n            render={() => {\r\n              return <UserProfile stories={ownerStories} user={user} />;\r\n            }}\r\n          />\r\n          <Route\r\n            exact\r\n            path=\"/user/:singleStory\"\r\n            render={(userProps) => {\r\n              return <UserProfile story={story} user={user} />;\r\n            }}\r\n          />\r\n          <Route\r\n            exact\r\n            path=\"/allstories/:storyId\"\r\n            render={(routeProps) => {\r\n              return (\r\n                <SingleStory\r\n                  handleDelete={this.handleDelete}\r\n                  {...routeProps}\r\n                  stories={stories}\r\n                  user={user}\r\n                />\r\n              );\r\n            }}\r\n          />\r\n          <Route\r\n            exact\r\n            path=\"/allstories\"\r\n            render={() => {\r\n              return <AllStories stories={stories} user={user} />;\r\n            }}\r\n          />\r\n\r\n          <Route\r\n            exact\r\n            path=\"/edit\"\r\n            render={(routeProps) => {\r\n              //not sure about this route...\r\n              return (\r\n                <EditUser\r\n                  user={user}\r\n                  onEdit={this.handleEdit}\r\n                  {...routeProps}\r\n                />\r\n              );\r\n            }}\r\n          />\r\n          <Route path=\"\" component={NotFound} />\r\n        </Switch>\r\n        <NavBottom user={user} handleLogout={this.handleLogout} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default withRouter(App);\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}